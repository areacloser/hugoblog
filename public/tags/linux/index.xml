<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Linux on 小窝</title>
        <link>http://localhost:1313/tags/linux/</link>
        <description>Recent content in Linux on 小窝</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>lanlan2_</copyright>
        <lastBuildDate>Wed, 01 Oct 2025 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/tags/linux/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Arch Linux 和 Gentoo Linux 各有什么特点</title>
        <link>http://localhost:1313/post/arch-and-gentoo/</link>
        <pubDate>Wed, 01 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/post/arch-and-gentoo/</guid>
        <description>&lt;img src="https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/Gentoo-vs-Arch-Linux.webp" alt="Featured image of post Arch Linux 和 Gentoo Linux 各有什么特点" /&gt;&lt;h2 id=&#34;前言&#34;&gt;前言
&lt;/h2&gt;&lt;p&gt;Arch Linux 和 Gentoo Linux 都是面向高级用户的 Linux 发行版，强调定制性和控制力，但设计哲学和技术实现差异显著。以下从核心特点、适用场景和典型差异展开分析：&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;分析&#34;&gt;分析
&lt;/h2&gt;&lt;h3 id=&#34;-一arch-linux-的特点&#34;&gt;🐧 &lt;strong&gt;一、Arch Linux 的特点&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;极简主义与用户掌控（KISS 原则）&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;默认安装仅包含基础核心组件（无图形界面、无预装软件），用户需手动配置所有部件（如桌面环境、驱动、网络工具）。&lt;/li&gt;
&lt;li&gt;避免发行版维护者的“魔改”，软件保持上游原生版本，提供纯净体验。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;滚动更新与最新软件&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;采用&lt;strong&gt;滚动发布模型&lt;/strong&gt;，持续推送更新，用户始终使用最新版内核和软件（如 LibreOffice、GNOME 等）。&lt;/li&gt;
&lt;li&gt;优势：安全补丁和功能更新极快（通常数日内落地）；劣势：偶发更新冲突需手动干预。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;强大的包管理与生态&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Pacman&lt;/strong&gt; 包管理器：命令简洁高效（如 &lt;code&gt;pacman -Syu&lt;/code&gt; 更新系统）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AUR（Arch User Repository）&lt;/strong&gt;：社区驱动的软件仓库，覆盖超10万第三方应用（如Spotify、WPS），通过 &lt;code&gt;yay&lt;/code&gt; 等工具一键安装。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;文档与社区支持&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Arch Wiki&lt;/strong&gt; 被公认为 Linux 最强文档库，内容覆盖安装、调优及故障排查，甚至其他发行版用户也常参考。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;适用场景&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;适合追求&lt;strong&gt;轻量、最新软件&lt;/strong&gt;且希望&lt;strong&gt;深度定制&lt;/strong&gt;的用户。&lt;/li&gt;
&lt;li&gt;典型用户：开发者、技术爱好者、希望摆脱商业发行版影响的自由主义者。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;-二gentoo-linux-的特点&#34;&gt;🐧 &lt;strong&gt;二、Gentoo Linux 的特点&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;源代码编译与极致优化&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所有软件默认从&lt;strong&gt;源代码编译安装&lt;/strong&gt;，用户可通过 &lt;code&gt;USE&lt;/code&gt; 标志启用/禁用功能（如移除 KDE 依赖的蓝牙模块）。&lt;/li&gt;
&lt;li&gt;支持硬件级优化：通过 &lt;code&gt;CFLAGS&lt;/code&gt;（如 &lt;code&gt;-march=native&lt;/code&gt;）针对 CPU 指令集编译，提升性能10%~30%。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Portage 包管理系统&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;strong&gt;ebuild 脚本&lt;/strong&gt;管理依赖与编译流程，支持高度灵活的组合（例如混合安装二进制包与自编译包）。&lt;/li&gt;
&lt;li&gt;新增&lt;strong&gt;官方二进制包支持&lt;/strong&gt;（2024年起），涵盖核心系统及 KDE/GNOME 等桌面环境，显著减少编译时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;元发行版定位&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;被称为“元发行版”（meta-distribution），可适配10+硬件架构（x86、ARM、PowerPC等），甚至替换C库（如 musl 替代 glibc）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;高门槛与学习价值&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装需手动分区、编译内核、配置引导程序，耗时可能达数小时至数天。&lt;/li&gt;
&lt;li&gt;适合作为学习 Linux 内部机制的“实验室”，但需较强排错能力。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;适用场景&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;适合&lt;strong&gt;嵌入式开发&lt;/strong&gt;、&lt;strong&gt;高性能计算&lt;/strong&gt;（如科学计算集群）及&lt;strong&gt;极致精简系统&lt;/strong&gt;（如容器镜像）。&lt;/li&gt;
&lt;li&gt;典型用户：系统架构师、硬件优化爱好者、追求“绝对控制”的极客。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;-三arch-vs-gentoo-关键对比&#34;&gt;🧩 &lt;strong&gt;三、Arch vs Gentoo 关键对比&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;下表总结核心差异：&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;strong&gt;维度&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;&lt;strong&gt;Arch Linux&lt;/strong&gt;&lt;/th&gt;
          &lt;th&gt;&lt;strong&gt;Gentoo Linux&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;设计哲学&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;轻量简洁 + 开箱即用（最小配置后）&lt;/td&gt;
          &lt;td&gt;源代码级定制 + 硬件优化&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;包管理&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;Pacman + AUR（预编译二进制包）&lt;/td&gt;
          &lt;td&gt;Portage（源码编译为主，支持二进制包）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;安装复杂度&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;中高（需CLI配置）&lt;/td&gt;
          &lt;td&gt;极高（需编译内核与核心组件）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;更新模式&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;滚动更新（高频，偏重软件时效）&lt;/td&gt;
          &lt;td&gt;滚动更新（可分段编译，偏重稳定性调优）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;定制程度&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;应用层定制（选择组件）&lt;/td&gt;
          &lt;td&gt;系统级定制（编译选项、依赖链）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;硬件优化&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;通用优化（x86-64架构）&lt;/td&gt;
          &lt;td&gt;深度优化（支持多架构，CPU指令级调优）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;适用场景&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;桌面/开发环境&lt;/td&gt;
          &lt;td&gt;服务器/嵌入式/高性能计算&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;社区资源&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;Arch Wiki（全网最强文档）&lt;/td&gt;
          &lt;td&gt;Gentoo Handbook（技术细节丰富）&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id=&#34;-四总结建议&#34;&gt;💎 &lt;strong&gt;四、总结建议&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;选 Arch Linux 若&lt;/strong&gt;：你希望快速搭建高度定制的现代桌面，追求软件时效性，且能接受中阶学习曲线。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;选 Gentoo Linux 若&lt;/strong&gt;：你需要为特定硬件（如ARM设备）或场景（如超算集群）构建极致优化系统，并愿意投入编译与调试时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 两者均非新手友好，但&lt;strong&gt;Arch 更适合渐进式学习&lt;/strong&gt;（从AUR到内核编译），&lt;strong&gt;Gentoo 更适合系统性深造&lt;/strong&gt;（从USE标志到交叉编译）。若纠结，可先用Arch熟悉Linux生态，再挑战Gentoo以解锁“完全控制权”。&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>Alpine Linux 安装教程</title>
        <link>http://localhost:1313/post/alpine-installation/</link>
        <pubDate>Tue, 30 Sep 2025 12:12:21 +0000</pubDate>
        
        <guid>http://localhost:1313/post/alpine-installation/</guid>
        <description>&lt;img src="https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/alpine.png" alt="Featured image of post Alpine Linux 安装教程" /&gt;&lt;h1 id=&#34;alpine-linux容器世界的轻量级基石&#34;&gt;Alpine Linux：容器世界的轻量级基石
&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;简约而不简单，轻量却功能完备&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;在当今容器化和云计算的时代，我们常常被各种复杂的技术方案所包围。然而，在这片&amp;quot;臃肿&amp;quot;的技术景观中，有一个发行版以其极简主义哲学脱颖而出——它就是 &lt;strong&gt;Alpine Linux&lt;/strong&gt;。今天，我们将深入探索这个轻量级但功能强大的Linux发行版，揭示它为何成为容器环境和嵌入式系统的首选。&lt;/p&gt;
&lt;h2 id=&#34;什么是alpine-linux&#34;&gt;什么是Alpine Linux？
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Alpine Linux&lt;/strong&gt;是一个面向安全应用的轻量级Linux发行版，它基于musl libc和BusyBox构建。不同于主流的发行版，Alpine将&lt;strong&gt;简洁、安全和资源高效&lt;/strong&gt;作为其核心设计理念。&lt;/p&gt;
&lt;h3 id=&#34;核心特性概览&#34;&gt;核心特性概览
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;特性&lt;/th&gt;
          &lt;th&gt;优势&lt;/th&gt;
          &lt;th&gt;适用场景&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;小巧的体积&lt;/td&gt;
          &lt;td&gt;基础镜像仅约5MB&lt;/td&gt;
          &lt;td&gt;容器化部署、微服务&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;强大的安全性&lt;/td&gt;
          &lt;td&gt;主动安全策略与补丁管理&lt;/td&gt;
          &lt;td&gt;生产环境、安全敏感应用&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;简单的包管理&lt;/td&gt;
          &lt;td&gt;apk包管理器高效易用&lt;/td&gt;
          &lt;td&gt;开发环境、定制系统&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;musl libc&lt;/td&gt;
          &lt;td&gt;兼容性与性能优化&lt;/td&gt;
          &lt;td&gt;嵌入式系统、边缘计算&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;alpine的核心组件解析&#34;&gt;Alpine的核心组件解析
&lt;/h2&gt;&lt;h3 id=&#34;1-musl-libc替代glibc的轻量级选择&#34;&gt;1. musl libc：替代Glibc的轻量级选择
&lt;/h3&gt;&lt;p&gt;与大多数Linux发行版使用Glibc不同，Alpine选择了&lt;strong&gt;musl libc&lt;/strong&gt;作为其C标准库。这一选择带来了显著的优势：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// musl libc 提供了简洁高效的API实现
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Alpine Linux musl libc 环境&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;musl的设计哲学强调&lt;strong&gt;代码简洁、标准合规和安全性&lt;/strong&gt;，这使得它在资源受限的环境中表现出色。&lt;/p&gt;
&lt;h3 id=&#34;2-busybox全能的多合一工具集&#34;&gt;2. BusyBox：全能的多合一工具集
&lt;/h3&gt;&lt;p&gt;BusyBox将数百个常见的Unix命令集成到一个单一的可执行文件中，实现了&lt;strong&gt;功能的完整性与体积的最小化&lt;/strong&gt;之间的完美平衡。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 在Alpine中使用BusyBox的基本命令示例&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ls -la
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat /etc/alpine-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;当前用户: &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;whoami&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;3-apk包管理器高效简单的软件管理&#34;&gt;3. apk包管理器：高效简单的软件管理
&lt;/h3&gt;&lt;p&gt;apk是Alpine的包管理工具，其语法简洁直观：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 更新软件包索引&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装软件包&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add nginx python3 nodejs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 搜索软件包&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk search mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 删除软件包&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk del nano
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;apk工具的设计体现了Alpine的哲学：&lt;strong&gt;简单直接、没有不必要的装饰&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&#34;在容器环境中使用alpine的优势&#34;&gt;在容器环境中使用Alpine的优势
&lt;/h2&gt;&lt;h3 id=&#34;资源效率对比&#34;&gt;资源效率对比
&lt;/h3&gt;&lt;p&gt;让我们比较不同基础镜像的大小：&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;基础镜像&lt;/th&gt;
          &lt;th&gt;大小&lt;/th&gt;
          &lt;th&gt;启动时间&lt;/th&gt;
          &lt;th&gt;内存占用&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Alpine Linux&lt;/td&gt;
          &lt;td&gt;~5MB&lt;/td&gt;
          &lt;td&gt;&amp;lt; 3秒&lt;/td&gt;
          &lt;td&gt;&amp;lt; 10MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Ubuntu Minimal&lt;/td&gt;
          &lt;td&gt;~50MB&lt;/td&gt;
          &lt;td&gt;~10秒&lt;/td&gt;
          &lt;td&gt;~50MB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;CentOS&lt;/td&gt;
          &lt;td&gt;~200MB&lt;/td&gt;
          &lt;td&gt;~15秒&lt;/td&gt;
          &lt;td&gt;~100MB&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;这种资源效率使Alpine成为&lt;strong&gt;高密度部署和微服务架构&lt;/strong&gt;的理想选择。&lt;/p&gt;
&lt;h3 id=&#34;安全增强特性&#34;&gt;安全增强特性
&lt;/h3&gt;&lt;p&gt;Aline Linux提供了多项安全增强功能：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;非root容器支持&lt;/strong&gt;：通过减少特权来降低攻击面&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最小化攻击面&lt;/strong&gt;：仅安装必需的软件包&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;主动安全更新&lt;/strong&gt;：及时修补已知漏洞&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;实际应用示例&#34;&gt;实际应用示例
&lt;/h2&gt;&lt;h3 id=&#34;创建alpine基础的docker镜像&#34;&gt;创建Alpine基础的Docker镜像
&lt;/h3&gt;&lt;p&gt;以下是一个基于Alpine的Node.js应用Dockerfile示例：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 使用多阶段构建优化镜像大小&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;node:16-alpine&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/app&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; package*.json ./&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; npm ci --only&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;production&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 生产阶段&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;alpine:latest&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; apk add --no-cache nodejs&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; addgroup -g &lt;span class=&#34;m&#34;&gt;1001&lt;/span&gt; -S nodejs &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; adduser -S nodejs -u &lt;span class=&#34;m&#34;&gt;1001&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/app&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; --from&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;builder --chown&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nodejs:nodejs /app/node_modules ./node_modules&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; --chown&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nodejs:nodejs . .&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;nodejs&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXPOSE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;3000&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;node&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;index.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这种多阶段构建方法可以生成极其精简且安全的 production 镜像。&lt;/p&gt;
&lt;h3 id=&#34;系统管理实用命令&#34;&gt;系统管理实用命令
&lt;/h3&gt;&lt;p&gt;在Alpine中执行系统管理任务的常用命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看系统信息&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/os-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 管理服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rc-service nginx status
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rc-service nginx restart
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 管理系统启动项&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rc-update add nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看日志&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tail -f /var/log/messages
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;alpine的进阶使用技巧&#34;&gt;Alpine的进阶使用技巧
&lt;/h2&gt;&lt;h3 id=&#34;1-自定义iso构建&#34;&gt;1. 自定义ISO构建
&lt;/h3&gt;&lt;p&gt;Alpine提供了强大的自定义构建工具，允许用户创建包含特定软件包和配置的定制镜像：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 配置软件仓库源&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://dl-cdn.alpinelinux.org/alpine/v3.16/main&amp;#34;&lt;/span&gt; &amp;gt; /etc/apk/repositories
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装构建工具&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add alpine-sdk build-base apk-tools
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建自定义构建&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone git://git.alpinelinux.org/aports
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;2-内核优化与硬件支持&#34;&gt;2. 内核优化与硬件支持
&lt;/h3&gt;&lt;p&gt;尽管体积小巧，Alpine支持广泛的内核模块和硬件驱动：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;轻量级桌面环境&lt;/strong&gt;：虽然主要面向服务器和容器，但Alpine可以运行Xfce、Openbox等轻量级桌面环境&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;嵌入式设备支持&lt;/strong&gt;：针对树莓派等嵌入式设备有专门的镜像和优化&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;虚拟化增强&lt;/strong&gt;：对KVM、Docker等虚拟化环境有良好支持&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;结语&#34;&gt;结语
&lt;/h2&gt;&lt;p&gt;Alpine Linux向我们证明，在技术世界中**&amp;ldquo;更少&amp;quot;往往意味着&amp;quot;更多&amp;rdquo;**——更少的资源消耗带来更高的部署密度，更少的攻击面带来更强的安全性，更少的复杂度带来更高的可靠性。&lt;/p&gt;
&lt;p&gt;正如Alpine的座右铭所言：&amp;ldquo;小而简&amp;rdquo;（Small. Simple. Secure）。这不仅是技术选择，更是一种哲学立场：在追求功能丰富性的同时，不应忽视简洁性和专注度的价值。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;简单性是可靠性的先决条件&lt;/strong&gt; — Edsger W. Dijkstra&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;无论是构建下一代云原生应用，还是为嵌入式设备寻找可靠的系统基础，Alpine Linux都提供了一个值得认真考虑的轻量级解决方案。在技术日益复杂的今天，或许正是这种&amp;quot;少即是多&amp;quot;的哲学，能够帮助我们构建更加可持续和可维护的系统。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;本文使用Hugo的Stack主题生成，如需了解更多Markdown语法技巧，请参阅[Hugo-GeekBlog项目中的Markdown语法完全指南]。&lt;/em&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Ubuntu Server 22.04 避坑和配置指南</title>
        <link>http://localhost:1313/post/tips-for-ubuntu-vm/</link>
        <pubDate>Sat, 05 Oct 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/post/tips-for-ubuntu-vm/</guid>
        <description>&lt;img src="https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/DM-20241006112629-001.png" alt="Featured image of post Ubuntu Server 22.04 避坑和配置指南" /&gt;&lt;h2 id=&#34;前言&#34;&gt;前言
&lt;/h2&gt;&lt;p&gt;先展示一下成果 ~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/nf.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;neofetch结果&#34;
	
	
&gt;
&lt;em&gt;Neofetch一下&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/lx.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;lxmusic运作图&#34;
	
	
&gt;
&lt;em&gt;LX Music&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;仔细算算，我花在这个虚拟机上的时间已经超过了15个小时，真可谓道阻且长！&lt;/p&gt;
&lt;p&gt;话不多说，下面就是正文了&lt;/p&gt;
&lt;h2 id=&#34;开始之前&#34;&gt;开始之前
&lt;/h2&gt;&lt;h3 id=&#34;系统信息&#34;&gt;系统信息
&lt;/h3&gt;&lt;p&gt;我使用的宿主机是Windows7系统，硬件比较古早，这里只展示部分信息：&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;项目&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;值&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;CPU&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Intel i5-2400&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;内存&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;8 GB&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;显示适配器&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Intel(R) HD Graphics&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;软件安装&#34;&gt;软件安装
&lt;/h3&gt;&lt;h4 id=&#34;安装之前的准备&#34;&gt;安装之前的准备
&lt;/h4&gt;&lt;p&gt;在最最开始前，必不可少的是打开CPU功能中的虚拟化功能（Intel VT-x 或 Hyper-V），不然虚拟机的功能无法正常实现。不过好像这个功能大部分计算机是默认开启的（比如我就读高中的班级电脑），可是我家电脑却不默认开启。&lt;/p&gt;
&lt;p&gt;想要开启它，须要进入BIOS设置界面，常规做法是在开机出现Logo时按下F2键，但我家电脑要按Del键，这由主板型号而定。具体可参考&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/34223088&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;这篇文章&lt;/a&gt;。&lt;/p&gt;
&lt;h4 id=&#34;ssh--vnc-连接软件&#34;&gt;SSH &amp;amp; VNC 连接软件
&lt;/h4&gt;&lt;p&gt;虚拟机自带的用户界面实在难以入眼，加之后续需要建立VNC连接，找一个合适的远程连接软件是必要的。&lt;/p&gt;
&lt;p&gt;大部分人SSH连接都会选择使用 XShell， 但它有两个缺点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;不支持VNC连接&lt;/li&gt;
&lt;li&gt;终端配色有时会出问题（如运行Neovim时）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因而此处我推荐使用 MobaXterm 作为替代，它虽然没有汉化，但能完美解决 XShell 的问题。&lt;/p&gt;
&lt;h4 id=&#34;虚拟机软件&#34;&gt;虚拟机软件
&lt;/h4&gt;&lt;p&gt;市面上常用的虚拟机软件有两个：&lt;code&gt;VirtualBox&lt;/code&gt; 和 &lt;code&gt;VMWare&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果各位和我一样是Windows7的钉子户的话，那么请务必 不 要 使用&lt;code&gt;VirtualBox&lt;/code&gt;！虽然它免费开源，但它出的问题不是我们能够解决的（不支持Windows7）。至于收费的&lt;code&gt;VMWare&lt;/code&gt;，我想大家应当能各显神通，找到合适的学习版。不过使用Windows7的同学们又要注意了，&lt;code&gt;VMWare&lt;/code&gt;在 Workstation 15 之后的版本后都不再支持Windows7，所以请不要找更高的版本了！&lt;/p&gt;
&lt;h4 id=&#34;镜像文件&#34;&gt;镜像文件
&lt;/h4&gt;&lt;p&gt;官网的下载速度十分令人堪忧，建议使用&lt;a class=&#34;link&#34; href=&#34;https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/jammy/ubuntu-22.04.5-live-server-amd64.iso&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;清华镜像源&lt;/a&gt;来获取系统镜像。&lt;/p&gt;
&lt;h2 id=&#34;cli界面&#34;&gt;CLI界面
&lt;/h2&gt;&lt;h3 id=&#34;安装系统&#34;&gt;安装系统
&lt;/h3&gt;&lt;p&gt;具体教程可参考一下几篇教程，都写得很详细：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/calvinit/p/16350378.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VMware 虚拟机图文安装和配置 Ubuntu Server 22.04 LTS 教程 - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/abc1069/p/16296050.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;vmware中安装 ubuntu 22.04 live-server - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/627023160&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;vmware 安装 ubuntu server 22.04.2 LTS记录 - 知乎&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里基本按着文章里的做就可以了，但有两点我要提醒：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;配置网络连接时建议先用DHCP（后面可以改回固定IP），不然可能会导致IP冲突。&lt;/li&gt;
&lt;li&gt;配置磁盘空间时一定要至少分配40G的空间！不然后续安装图形化界面时会空间不足！这是我亲身经历的，它让我被迫一切从头开始，损失惨重！并且建议将所有的剩余空间（free-space）都用掉，反正留着也没用，不如都分配给根目录（/）&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;配置ssh连接&#34;&gt;配置SSH连接
&lt;/h3&gt;&lt;p&gt;在进行SSH连接前，要先配置端口转发。同样，推荐一些文章教程：&lt;/p&gt;
&lt;h4 id=&#34;端口转发&#34;&gt;端口转发
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/weixin_49047967/article/details/132555042&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VMware做NAT端口转发(全网最详细步骤) - CSDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/testgo/p/10368999.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VMware虚拟机配置端口转发（端口映射） - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后是SSH配置：&lt;/p&gt;
&lt;h4 id=&#34;ssh-配置&#34;&gt;SSH 配置
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/gmaaa123/article/details/135162819&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntu 22.04.3 Server 安装sshd和开启root账号ssh远程 - CSDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://developer.aliyun.com/article/1488008&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;如何在 Ubuntu 上启用 SSH（适用于 20.04、22.04）？ - 阿里云&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同样，我有一点要提醒，在SSH连接时，有可能出现&lt;code&gt;Error503&lt;/code&gt;问题，即建立SSH连接后无法进入命令行界面。虽然其中的原因尚不明确，但是更换端口转发时的IP地址然后重新连接就能解决问题。&lt;/p&gt;
&lt;h3 id=&#34;更换地区和语言&#34;&gt;更换地区和语言
&lt;/h3&gt;&lt;p&gt;正常情况下，刚安装好的Ubuntu的默认语言是英语，即&lt;code&gt;locale&lt;/code&gt;是&lt;code&gt;en&lt;/code&gt;。更换为中文不是必需的，但我仍然建议大家换掉，因为这会影响后续图形化的语言配置。当然，如果对自己的英语水平有足够的信心，就当我没说。&lt;/p&gt;
&lt;p&gt;想要更换语言，需要在命令行中执行以下操作&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install language-pack-zh-hans
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo update-locale &lt;span class=&#34;nv&#34;&gt;LANG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;zh_CN.UTF-8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最后重启系统即可。&lt;/p&gt;
&lt;h2 id=&#34;gui-界面&#34;&gt;GUI 界面
&lt;/h2&gt;&lt;p&gt;由于最开始安装的是Server版，所以此时的Ubuntu是没有图形化界面的，但是我们可以为其安装一个（甚至多个）桌面环境！而想要多快好省地完成这一重任，我们就要请出下面这个神器：&lt;/p&gt;
&lt;p&gt;TMOE（天萌管理器）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/2moe.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2moe头像&#34;
	
	
&gt;
&lt;em&gt;没找到TMOE的图标就用二萌的头像代替了&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;题外话&#34;&gt;题外话
&lt;/h3&gt;&lt;p&gt;说到这里，我不得不提一下TMOE的作者2moe。TA虽然基本不再更新管理器，但一直在gitee社区活跃出现，而且十分负责地答疑解惑，确实非常有责任心！&lt;/p&gt;
&lt;p&gt;（在线催更TMOE2025）&lt;/p&gt;
&lt;h3 id=&#34;进入tmoe之前&#34;&gt;进入TMOE之前
&lt;/h3&gt;&lt;p&gt;在开始图形化之前，墙裂建议各位先切换为普通用户，如果一直使用root用户来安装软件会遇到许多不便（很多软件会因安全问题而停止运行）&lt;/p&gt;
&lt;h3 id=&#34;进入tmoe&#34;&gt;进入TMOE
&lt;/h3&gt;&lt;h4 id=&#34;安装桌面&#34;&gt;安装桌面
&lt;/h4&gt;&lt;p&gt;Ubuntu虚拟机应该是默认自带&lt;code&gt;curl&lt;/code&gt;下载器的，如果没有请使用以下命令安装&lt;code&gt;curl&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install -y curl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;然后键入以下命令安装TMOE管理器&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bash -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;curl -L gitee.com/mo2/linux/raw/2/2&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;接下来就是漫长的安装过程了，这里按照提示走就行，记得把下载源设置为gitee，不然速度会更酸爽。桌面环境我选择了Xfce，因为它够轻量，而且可定制性很强。还有一点，设置VNC时最好使用&lt;code&gt;TigerVNC&lt;/code&gt;它的优化和功能都比&lt;code&gt;TightVNC&lt;/code&gt;要好。&lt;/p&gt;
&lt;p&gt;还有一点，在配置完VNC后，记得回到虚拟机处再配置相应的端口转发。&lt;/p&gt;
&lt;h4 id=&#34;体验强大功能&#34;&gt;体验强大功能
&lt;/h4&gt;&lt;p&gt;到这里时，桌面应该就能在VNC中正常显示了，但可以看到它仍处于百废待兴的状态：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VNC显示比例不合适&lt;/li&gt;
&lt;li&gt;界面比较丑陋&lt;/li&gt;
&lt;li&gt;默认浏览器打不开&lt;/li&gt;
&lt;li&gt;应用十分稀少&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而这些，TMOE中早已有了对策————所有这些问题都可以在上面一站式解决！（其实还需要一点场外援助）&lt;/p&gt;
&lt;p&gt;下面就可以自由探索TMOE并美化自己的终端和桌面了！在这里我提供一些思路供参考：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;去&lt;a class=&#34;link&#34; href=&#34;https://www.xfce-look.org/browse/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;xfce-looks网站&lt;/a&gt;上下载主题和图标包并使用TMOE本地主题安装器来安装（推荐Orchis-Dark主题和Papirus-Dark图标包）&lt;/li&gt;
&lt;li&gt;安装Chromium或Edge-dev浏览器&lt;/li&gt;
&lt;li&gt;安装Terminology终端模拟器并&lt;a class=&#34;link&#34; href=&#34;https://developer.baidu.com/article/detail.html?id=3116569&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;将其设置为默认终端&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;安装Bingle以获取必应每日精选壁纸（有WE的去安装Steam更好）&lt;/li&gt;
&lt;li&gt;安装Tmoe-Zsh强大Shell&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;更多&#34;&gt;更多
&lt;/h2&gt;&lt;h3 id=&#34;一些问题解决方案&#34;&gt;一些问题&amp;amp;解决方案
&lt;/h3&gt;&lt;h4 id=&#34;自动死机&#34;&gt;自动死机
&lt;/h4&gt;&lt;p&gt;这是我遇到的一个奇怪的问题。在桌面环境闲置一段时间后整个虚拟机会被自动挂起（suspend），即SSH和VNC乃至虚拟机界面全都卡死无法操作。在我眼中这跟死机没有任何不同，但之前在手机上使用PRoot容器配置桌面环境时从未出现过这个问题&lt;/p&gt;
&lt;p&gt;我尝试过禁用虚拟机的挂起功能，也曾尝试修改&lt;code&gt;/etc/systemd/logind.conf&lt;/code&gt;{: .filepath}&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;，还查看过Xfce设置中的电源选项，但都无功而返。&lt;/p&gt;
&lt;p&gt;最后禁用了系统休眠服务就解决了，方法如下&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在终端中输入命令：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;查看服务是否禁用成功：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl status sleep.target suspend.target hibernate.target hybrid-sleep.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;终端字体显示乱码&#34;&gt;终端字体显示乱码
&lt;/h4&gt;&lt;p&gt;在安装Tmoe-Zsh（尤其是使用Powerlevel10k主题）后终端可能会出现乱码，像这样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/uxterm.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;UXterm截图&#34;
	
	
&gt;
&lt;em&gt;X11的自带终端是真飞舞&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;这时我们就需要找到一款合适的字体来显示其中的符号了，那就是————&lt;a class=&#34;link&#34; href=&#34;https://github.com/ryanoasis/nerd-fonts/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nerd Fonts&lt;/a&gt;！&lt;/p&gt;
&lt;p&gt;这里推荐几款不错的字体，只要下载并安装它们，你的终端就会变得炫酷无比！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/Inconsolata.zip&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Inconsolata&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://vikingz.me/static/1fbf553fca61382abd4eb7f33cd214e2/799d3/in.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Inconsolata截图&#34;
	
	
&gt;
&lt;em&gt;Inconsolata截图&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/JetBrainsMono.zip&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;JetBrains Mono&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://vikingz.me/static/57aee86eafc6be8c0f4c6a53c25d07be/acd90/jetbrian.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;JetBrains Mono截图&#34;
	
	
&gt;
&lt;em&gt;JetBrains Mono截图，说实话这个字体文件实在太大了&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/FiraCode.zip&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;FiraCode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://vikingz.me/static/1fd8d120322043e3b6e6accf2d771353/bbd4b/ligatures.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;FiraCode截图&#34;
	
	
&gt;
&lt;em&gt;FiraCode截图&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;root情况下electron应用打不开&#34;&gt;root情况下Electron应用打不开
&lt;/h4&gt;&lt;p&gt;这个解决方法比较简单，只需要在启动参数最后面加上&lt;code&gt;--no-sandbox&lt;/code&gt;就可以了，不过浏览器会在顶部弹出警告栏，让人心烦。&lt;/p&gt;
&lt;h3 id=&#34;未完成的事情&#34;&gt;未完成的事情
&lt;/h3&gt;&lt;h4 id=&#34;配置编辑器&#34;&gt;配置编辑器
&lt;/h4&gt;&lt;p&gt;由于Ubuntu软件源比较落后，很多程序用&lt;code&gt;apt&lt;/code&gt;都下不了最新版本，比如Neovim，通用稳定版都出到0.10了，Ubuntu还在倒腾0.6的版本。无奈我只能使用Unstable不稳定源，结果就是电脑上Neovim每天都更新而且bug奇多。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/nivm.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;我的Neovim现状&#34;
	
	
&gt;
&lt;em&gt;已经彻底废了&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;至于Emacs，我之前在手机上也曾尝试过配置，但仍以失败告终，现在它在我桌面上只是个摆设了。&lt;/p&gt;
&lt;p&gt;还有VSCode，我认为我的电脑没有这个能力运行。&lt;/p&gt;
&lt;h4 id=&#34;本地搭建个人网站&#34;&gt;本地搭建个人网站
&lt;/h4&gt;&lt;p&gt;正如你所看到的，这个网站是经由Github Actions搭建，以及Github Pages部署和托管而成的，我曾尝试将工作环境转移到这台虚拟机上，但种种问题使得我的计划不了了之：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地Ruby包依赖管理器Bundler与Github不匹配，但受制于网络，无法自动获取对应版本的Bundler&lt;/li&gt;
&lt;li&gt;Obsidian编辑器在虚拟机上无法正常工作&lt;/li&gt;
&lt;li&gt;无法正常输入中文（见下一节）&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;设置中文输入法&#34;&gt;设置中文输入法
&lt;/h4&gt;&lt;p&gt;网上关于配置中文输入法是无论是iBus框架还是Fcitx框架，都需要在“语言支持”选项中切换语言为汉语，但不知为何我的语言选项中汉语被禁用了，但又处于已安装状态，这导致我不能在虚拟机内输入中文而必须要在外部创建一个文本交换文件，用着真的很不方便。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.gitcode.com/areacloser/images-for-hugo-blog/raw/main/lang.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;语言支持截屏&#34;
	
	
&gt;
&lt;em&gt;这是为什么呢&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;配置开机自启动脚本&#34;&gt;配置开机自启动脚本
&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;起因：每次登录进Ubuntu是桌面环境都是默认关闭的，需要手动输入startvnc命令才能开始VNC连接，如果提前连接MobaXterm会卡死，因此想让虚拟机一开机就启动桌面环境。&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;许多开机自启动的教程都是像这样：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/king-dom/p/17371747.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntu22.04 rc-local 配置开机自启动脚本 - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/ALice1024/p/17302426.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ubuntu22.04 添加开机启动脚本 - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其基本思路不外乎修改或创建系统服务，但是在Ubuntu虚拟机上这行不通。修改&lt;code&gt;rc-local.service&lt;/code&gt;服务后，我的虚拟机卡在开机界面进不去，自己创建的服务又无法正常工作（事实上桌面会直接卡死）。&lt;/p&gt;
&lt;p&gt;最后只能使用&lt;code&gt;.bashrc&lt;/code&gt;，好像也没什么用（我的默认终端是Zsh，可能是要修改&lt;code&gt;.zshrc&lt;/code&gt;）。&lt;/p&gt;
&lt;h2 id=&#34;后记&#34;&gt;后记
&lt;/h2&gt;&lt;p&gt;明天叕要开学了，假期过得真是快呀。还有很多的东西要学，还有很多的东西想学，不知何时能够再更一次？&lt;/p&gt;
&lt;p&gt;本来还想发一期WxPython学习笔记的，现在只好作罢。&lt;/p&gt;
&lt;p&gt;总之，下次再会吧！&lt;/p&gt;
&lt;h2 id=&#34;脚注&#34;&gt;脚注
&lt;/h2&gt;&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/641482808&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ubuntu 22.04 server设置中文 - 知乎&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://haohe.fun/2021/04/tmoe-linux%EF%BC%9A%E5%9C%A8android-%E5%92%8Cwindows10%E4%B8%8A%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85-gnu-linux%E5%AE%B9%E5%99%A8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tmoe-linux：在Android 和Windows10上一键安装 GNU/Linux容器 - 我的旅游记录&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/nangongergou/p/18042535&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ubuntu使用－ubuntu22.04关闭自动挂起功能 - 博客园&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/VictoriaLy/article/details/134684502&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntu防止休眠和挂起（笔记） - CSDN&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
    </channel>
</rss>
